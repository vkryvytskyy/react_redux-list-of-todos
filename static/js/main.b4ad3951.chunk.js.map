{"version":3,"sources":["constants.js","User.js","TodoItem.js","actionCreator.js","getData.js","TodoList.js","App.js","store.js","reducers/reducer.js","index.js"],"names":["ID","TITLE","USER","User","_ref","todo","react_default","a","createElement","user","username","connect","state","todos","Object","toConsumableArray","dispatch","deleteTodo","id","type","deleteAction","title","src_User","className","onClick","getData","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","_x","apply","this","arguments","TodoList","loadTodos","sortTodos","_useState","useState","_useState2","slicedToArray","isLoaded","setLoaded","_useState3","_useState4","loading","setLoading","_useState5","_useState6","currentSorting","setCurrentSorting","getTodos","_ref2","todosData","usersData","allTogether","map","find","userId","makeSorted","field","src_TodoItem","key","disabled","defaultProps","loadAction","sortType","App","preloadedState","src_TodoList","reducer","length","undefined","objectSpread","filter","concat","reverse","sort","b","localeCompare","store","createStore","composeWithDevTools","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b4ad3951.chunk.js","sourcesContent":["export const LOAD_TODOS = 'LOAD_TODOS';\nexport const REMOVE_TODO = 'REMOVE_TODO';\nexport const ADD_TODO = 'ADD_TODO';\nexport const SORT = 'SORT';\nexport const ID = 'ID';\nexport const TITLE = 'TITLE';\nexport const USER = 'USER';\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction User({ todo }) {\n  return (\n    <td>{todo.user.username}</td>\n  );\n}\n\nUser.propTypes = {\n  todo: PropTypes.objectOf(PropTypes.object).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport User from './User';\nimport { deleteAction } from './actionCreator';\n\nfunction TodoItem({ todo, deleteTodo }) {\n  return (\n    <tr>\n      <td>{todo.todo.id}</td>\n      <td>{todo.todo.title}</td>\n      <User todo={todo} />\n      <td className=\"table-noborder\">\n        <button\n          type=\"button\"\n          className=\"table--button\"\n          onClick={() => deleteTodo(todo.todo.id)}\n        >\n          Remove\n        </button>\n      </td>\n    </tr>\n  );\n}\n\nTodoItem.propTypes = {\n  todo: PropTypes.objectOf(PropTypes.object).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  todos: [...state.todos],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  deleteTodo: id => dispatch(deleteAction(id)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TodoItem);\n","import {\n  LOAD_TODOS, REMOVE_TODO, ADD_TODO, SORT,\n} from './constants';\n\nexport const loadAction = todos => ({\n  type: LOAD_TODOS,\n  todos,\n});\n\nexport const deleteAction = id => ({\n  type: REMOVE_TODO,\n  id,\n});\n\nexport const addAction = (id, title, username) => ({\n  type: ADD_TODO,\n  id,\n  title,\n  username,\n});\n\nexport const sortAction = (sortType, currentSorting) => ({\n  type: SORT,\n  sortType,\n  currentSorting,\n});\n","const getData = async(type) => {\n  const url = `https://jsonplaceholder.typicode.com/`;\n  const response = await fetch(url + type);\n  return response.json();\n};\n\nexport default getData;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { ID, TITLE, USER } from './constants';\nimport TodoItem from './TodoItem';\nimport getData from './getData';\nimport { loadAction, sortAction } from './actionCreator';\n\nfunction TodoList({ todos, loadTodos, sortTodos }) {\n  const [isLoaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [currentSorting, setCurrentSorting] = useState('ID');\n\n  const getTodos = async() => {\n    setLoading(true);\n    const todosData = await getData('todos');\n    const usersData = await getData('users');\n    const allTogether = todosData.map(todo => ({\n      todo,\n      user: usersData.find(user => user.id === todo.userId),\n    }));\n    await loadTodos(allTogether);\n    setLoading(false);\n    setLoaded(true);\n  };\n\n  const makeSorted = (field) => {\n    sortTodos(field, currentSorting);\n    setCurrentSorting(field);\n  };\n\n  return (\n    <div>\n      {isLoaded ? (\n        <table className=\"table\">\n          <thead className=\"table-head\">\n            <tr>\n              <td>\n                <button\n                  type=\"button\"\n                  onClick={() => makeSorted(ID)}\n                  className=\"table--head-button\"\n                >\n                  id\n                </button>\n              </td>\n              <td>\n                <button\n                  type=\"button\"\n                  onClick={() => makeSorted(TITLE)}\n                  className=\"table--head-button\"\n                >\n                  title\n                </button>\n              </td>\n              <td>\n                <button\n                  type=\"button\"\n                  onClick={() => makeSorted(USER)}\n                  className=\"table--head-button\"\n                >\n                  user\n                </button>\n              </td>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              todos\n                ? todos.map(todo => (\n                  <TodoItem\n                    key={todo.todo.title}\n                    todo={todo}\n                    className=\"row\"\n                  />\n                ))\n                : null\n            }\n          </tbody>\n        </table>\n      )\n        : (\n          <button\n            type=\"button\"\n            onClick={getTodos}\n            disabled={loading}\n          >\n            {loading ? 'Loading' : 'Load'}\n          </button>\n        )\n      }\n    </div>\n  );\n}\n\nTodoList.propTypes = {\n  sortTodos: PropTypes.func.isRequired,\n  loadTodos: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object),\n};\n\nTodoList.defaultProps = {\n  todos: [],\n};\n\nconst mapStateToProps = state => ({\n  todos: state.todos,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadTodos: todos => dispatch(loadAction(todos)),\n  sortTodos: (field, type) => dispatch(sortAction(field, type)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TodoList);\n","import React from 'react';\nimport TodoList from './TodoList';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport reducer from './reducers/reducer';\n\nconst configureStore = preloadedState => (\n  createStore(\n    reducer,\n    preloadedState,\n    composeWithDevTools(),\n  )\n);\n\nconst store = configureStore({});\n\nexport default store;\n","import {\n  LOAD_TODOS, REMOVE_TODO, ADD_TODO, SORT, USER, TITLE,\n} from '../constants';\n\nconst reducer = (state = {}, {\n  type,\n  id,\n  title,\n  username,\n  todos,\n  sortType,\n  currentSorting,\n}) => {\n  switch (type) {\n    case LOAD_TODOS:\n      return {\n        ...state,\n        todos: [...todos],\n      };\n    case REMOVE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.todo.id !== id),\n      };\n    case ADD_TODO:\n      return {\n        ...state,\n        todos: [\n          ...todos,\n          {\n            todo: {\n              id,\n              title,\n            },\n            user: {\n              username,\n            },\n          },\n        ],\n      };\n    case SORT:\n      if (sortType === currentSorting) {\n        return {\n          ...state,\n          todos: [...state.todos].reverse(),\n        };\n      }\n      if (sortType === USER) {\n        return {\n          ...state,\n          todos: [...state.todos].sort((a, b) => a.user.username.localeCompare(b.user.username)),\n        };\n      }\n      if (sortType === TITLE) {\n        return {\n          ...state,\n          todos: [...state.todos].sort((a, b) => a.todo.title.localeCompare(b.todo.title)),\n        };\n      }\n      return {\n        ...state,\n        todos: [...state.todos].sort((a, b) => a.todo.id - b.todo.id),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root')\n);\n"],"sourceRoot":""}